# Minecraft Manhunt プラグイン - 経済システム仕様書

## 通貨設定
- **通貨単位**: G
- **開始時所持金**: 0G
- **最大所持金**: 999,999G

---

## ランナー（逃げる人）の獲得方法

### 1. 生存ボーナス
- **獲得タイミング**: 30秒ごと（生存中）
- **獲得金額**: 1.5G
- **通知**: なし（自動付与）

### 2. 進捗報酬
| 達成内容 | 獲得金額 | 備考 |
|---------|---------|------|
| ネザー到達 | 200G | 初回のみ |
| 要塞発見 | 300G | 初回のみ |
| エンド到達 | 500G | 初回のみ |

### 3. ダイヤモンド収集
- **獲得タイミング**: ダイヤモンドを拾った時
- **獲得金額**: 25G/個

### 4. 逃走成功ボーナス
- **獲得条件**: 最寄りのハンターから100m以上離れている
- **獲得金額**: 20G
- **クールダウン**: 60秒

### 5. スプリント移動報酬
- **獲得条件**: 
  - スプリント中（名前表示状態）
  - 3チャンク以内に敵が存在
  - 実際に移動している
- **獲得金額**: 0.2G/ブロック（最大50G/分）
- **通知**: なし

### 6. 実績解除
- **獲得タイミング**: Minecraft実績を解除時
- **獲得金額**: 10G/実績
- **除外**: レシピのアンロック

---

## ハンター（追う人）の獲得方法

### 1. ダメージ報酬
- **獲得タイミング**: ランナーにダメージを与えた時
- **獲得金額**: 5G/ダメージ
- **通知**: なし

### 2. キル報酬
- **獲得タイミング**: ランナーを倒した時
- **獲得金額**: 150G

### 3. 時間ボーナス
- **獲得タイミング**: 30秒ごと（生存中）
- **獲得金額**: 1.5G
- **通知**: なし（自動付与）

### 4. 追跡持続ボーナス
- **獲得条件**: ランナーの100m以内に30秒以上継続して滞在
- **獲得金額**: 30G
- **クールダウン**: 60秒
- **通知**: あり

### 5. スプリント移動報酬
- **獲得条件**: 
  - スプリント中（名前表示状態）
  - 3チャンク以内に敵が存在
  - 実際に移動している
- **獲得金額**: 0.2G/ブロック（最大50G/分）
- **通知**: なし

### 6. 実績解除
- **獲得タイミング**: Minecraft実績を解除時
- **獲得金額**: 10G/実績
- **除外**: レシピのアンロック

---

## 共通システム

### 管理者コマンド
- **コマンド**: `/manhunt give <プレイヤー> <金額>`
- **用途**: デバッグ・テスト用

---

## 特記事項

### 獲得条件
- ゲーム進行中（RUNNING）のみ
- 観戦者は獲得不可
- 死亡中（リスポン待機中）は獲得不可

### スプリント移動報酬の戦略性
- スプリント中は名前が表示される（リスク）
- 敵が近くにいる時のみ報酬発生（リスクテイク）
- スニークで隠れるか、スプリントで稼ぐかの選択

### リセットタイミング
- ゲーム開始時に全員0Gにリセット
- ゲーム中の獲得履歴は統計として記録

### 通知制御（スパム防止）
以下の獲得では通知を表示しない：
- 時間ボーナス（ハンター・ランナー）
- ダメージ報酬（ハンター）
- スプリント移動報酬（共通）
- 管理者からの付与

追跡持続ボーナスは通知が表示されます。

---

## 収入源まとめ

### ランナーの主な収入源
1. **進捗報酬**（ネザー200G、エンド500G）- 大きな一時収入
2. **ダイヤモンド収集**（25G/個）- 探索による収入
3. **生存ボーナス**（1.5G/30秒）- 安定した少額収入
4. **スプリント移動**（最大50G/分）- リスクテイク報酬

### ハンターの主な収入源
1. **キル報酬**（150G）- 最大の一時収入
2. **ダメージ報酬**（5G/ダメージ）- 戦闘による収入
3. **追跡持続ボーナス**（30G）- 継続的な追跡報酬
4. **時間ボーナス**（1.5G/30秒）- 安定した少額収入
5. **スプリント移動**（最大50G/分）- 追跡時の報酬

---

## 設定値について

### config.ymlでの設定項目
```yaml
economy:
  starting-balance: 0               # 開始時所持金
  max-balance: 999999              # 最大所持金
  currency-unit: "G"               # 通貨単位
  hunter:
    damage-reward: 5               # ダメージ報酬（1ダメージあたり）
    kill-reward: 150               # キル報酬
    time-bonus: 0.05               # 時間ボーナス（1秒あたり）
    time-bonus-interval: 30        # 時間ボーナス間隔（秒）
  runner:
    survival-bonus: 0.05           # 生存ボーナス（1秒あたり）
    survival-interval: 30          # 生存ボーナス間隔（秒）
    nether-reward: 200             # ネザー到達報酬
    fortress-reward: 300           # 要塞発見報酬
    end-reward: 500                # エンド到達報酬
    diamond-reward: 25             # ダイヤモンド収集報酬（1個あたり）
    escape-reward: 20              # 逃走成功ボーナス
    escape-distance: 100           # 逃走成功距離（メートル）
```

### 注意事項
- コードのデフォルト値と実際の設定値が異なる場合があります
- ゲームでは常にconfig.ymlの値が優先されます
- サーバー管理者は必要に応じて値を調整できます