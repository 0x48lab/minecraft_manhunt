# 🏃 Minecraft Manhunt Latest

[![Modrinth Downloads](https://img.shields.io/modrinth/dt/man-hunt-latest?label=Downloads&logo=modrinth)](https://modrinth.com/plugin/man-hunt-latest)
[![GitHub Release](https://img.shields.io/github/v/release/0x48lab/minecraft_manhunt?label=Latest%20Release)](https://github.com/0x48lab/minecraft_manhunt/releases)
[![Minecraft Version](https://img.shields.io/badge/Minecraft-1.21.4-green.svg)](https://www.minecraft.net/)
[![Platform](https://img.shields.io/badge/Platform-Spigot%20%7C%20Paper-orange.svg)](https://papermc.io/)

高度な追跡システム、経済統合、完全な国際化サポートを備えたMinecraftサーバー用の包括的なマルチプレイヤーManhuntプラグインです。

## ✨ 機能

### 🎯 コアManhuntゲームプレイ
- **動的役割システム**: プレイヤーはハンター、ランナー、または観戦者になれます
- **高度なコンパス追跡**: ターゲット切り替え機能付きの物理コンパスベースの追跡
- **近接警告システム**: ハンターが接近した際のランナー向け段階的警告システム
- **自動ゲーム管理**: 再接続サポート付きのスマートなゲーム状態管理

### 💰 経済・ショップシステム
- **ゲーム内通貨**: ゲームプレイアクションを通じてコインを獲得
- **包括的なショップ**: 6つのカテゴリ（武器、防具、ツール、消耗品、食料、特殊）に40以上のアイテム
- **役割別報酬**: ハンターとランナーで異なる獲得方法
- **購入制限**: アイテム制限、クールダウン、役割固有の制限

### 🌍 完全国際化対応
- **多言語サポート**: 完全な英語と日本語のローカライゼーション
- **プレイヤー個別言語**: 個人の言語設定
- **ローカライズされたショップアイテム**: すべてのアイテムと説明が完全翻訳済み
- **動的UI**: すべてのインターフェースがプレイヤーの言語設定に適応

### 📊 高度な統計・結果システム
- **詳細なプレイヤー統計**: パフォーマンス、収益、実績を追跡
- **MVPシステム**: トップパフォーマーの自動認識
- **包括的なゲーム結果**: 視覚効果付きの多段階結果表示
- **チームランキング**: パフォーマンスベースのチーム・個人ランキング

### 🎮 強化されたユーザー体験
- **役割選択GUI**: 直感的なグラフィカル役割選択メニュー
- **観戦者メニュー**: 観戦者向けの簡単なテレポートシステム
- **チームコミュニケーション**: プライベートチームチャットと座標共有
- **バディーシステム**: チームメイトとパートナーを組んで連携を強化
- **リアルタイムUI**: 動的なスコアボード、アクションバー、ボスバー表示
- **ワープシステム**: コストと遅延付きでチームメイトにテレポート
- **自動夜スキップ**: 夜になると夜明けまでスキップ
- **実績リセット**: 各ゲームで新たなスタート

## 🎯 ゲーム目標

- **🏃 ランナー**: エンダードラゴンを倒して勝利を達成
- **🗡 ハンター**: ランナーが目標を達成する前に全員を排除
- **👁 観戦者**: 完全な移動とテレポートオプションでゲームを観察

## 🛠 インストール方法

1. [Modrinth](https://modrinth.com/plugin/man-hunt-latest)から最新リリースをダウンロード
2. JARファイルをサーバーの`plugins`フォルダに配置
3. サーバーを再起動
4. `config.yml`を編集後、`/manhunt reload`でプラグインを設定

## 📋 必要要件

- **Minecraftバージョン**: 1.21.4
- **サーバーソフトウェア**: SpigotまたはPaper
- **Javaバージョン**: 21以上
- **最小プレイヤー数**: 2人（設定可能）

## 🎮 クイックスタート

1. サーバーに参加して`/manhunt roles`を実行
2. メニュー（GUIメニュー）を使用して役割を選択
3. 最小プレイヤー数と自動ゲーム開始を待つ
4. 利用可能なすべてのコマンドは`/manhunt help`で確認

## ⚙️ 設定

プラグインは`config.yml`を通じて高度に設定可能です：

```yaml
# 言語設定
language:
  default: "ja"                    # デフォルト言語 (ja/en)
  per-player: true                 # プレイヤー別の言語設定

# ゲーム設定
game:
  min-players: 2                   # 開始に必要な最小プレイヤー数
  start-countdown: 10              # ゲーム開始前のカウントダウン
  reset-advancements: true         # ゲーム開始時に実績をリセット
  night-skip:
    enabled: true                  # 夜明けまで自動スキップ

# 経済設定
economy:
  starting-balance: 0              # 開始時の所持金 (0G)
  currency-unit: "G"               # 通貨記号
  hunter:
    damage-reward: 5               # ダメージポイントごとの報酬
    kill-reward: 150               # キルごとの報酬
  runner:
    survival-bonus: 0.05           # 秒ごとの生存ボーナス
    nether-reward: 200             # ネザー進入報酬
```

## 🎯 コマンド

### プレイヤーコマンド
- `/manhunt role <runner|hunter|spectator>` - 役割変更（待機中のみ）
- `/manhunt roles` - 役割選択GUIを開く
- `/manhunt status` - ゲーム状況確認
- `/manhunt compass` - 追跡コンパスを取得（ハンターのみ）
- `/manhunt spectate` - 観戦者メニューを開く（観戦者のみ）
- `/r <メッセージ>` - チームチャット
- `/pos` - チームと座標を共有
- `/shop` - ショップメニューを開く
- `/shop balance` - 残高確認
- `/buddy <サブコマンド>` - バディーシステムコマンド（ゲーム中のみ）
- `/warp <プレイヤー>` - チームメイトにテレポート（100Gコスト、5秒遅延）

### 管理者コマンド
- `/manhunt start` - ゲーム強制開始
- `/manhunt stop` または `/manhunt end` - ゲーム強制停止
- `/manhunt sethunter <プレイヤー>` - ハンター役割を割り当て
- `/manhunt setrunner <プレイヤー>` - ランナー役割を割り当て
- `/manhunt setspectator <プレイヤー>` - 観戦者役割を割り当て
- `/manhunt minplayers <数値>` - 最小プレイヤー数を設定
- `/manhunt reload [config|shop|all]` - 設定をリロード
- `/manhunt ui <toggle|status>` - UI表示を制御
- `/manhunt respawntime <プレイヤー> <秒>` - カスタムリスポン時間を設定
- `/manhunt reset` - ゲーム強制リセット（ゲーム終了後のみ）
- `/manhunt give <プレイヤー> <金額>` - プレイヤーにお金を付与
- `/manhunt validate-messages` - メッセージファイルの整合性チェック
- `/manhunt diagnose` - 診断情報を出力

## 🏆 経済システム

### 獲得方法

**🗡 ハンター:**
- ランナーに与えたダメージポイントごとに5G
- ランナー排除ごとに150G
- 30秒間継続してランナーを追跡（100m以内）で30G
- 30秒ごとに1.5G（時間ボーナス）

**🏃 ランナー:**
- 30秒ごとに1.5G（生存ボーナス）
- ネザー到達で200G
- 要塞発見で300G
- エンド到達で500G
- ダイヤモンド収集ごとに25G
- 逃走成功で20G

### ショップカテゴリ
- **⚔️ 武器**: 剣、斧、トライデント
- **🛡️ 防具**: 各種素材のフル防具セット
- **🔧 ツール**: ツルハシ、シャベル、バケツ
- **🧪 消耗品**: ポーション、金のリンゴ
- **🍖 食料**: 各種食料アイテム
- **✨ 特殊**: エリトラ、エンダーパール、エメラルド

## 🌟 高度な機能

### スポーン配置システム
- **動的配置範囲**: 総プレイヤー数に基づいて自動調整
  - 2人: 最大500m
  - 20人: 最大2000m
  - 20人以上: 20人ごとに追加500m
- **敵間距離**: 敵チーム間の最小距離（デフォルト: 500m）
- **チーム比率調整**:
  - 少数派チーム: 近くに配置
  - 多数派チーム: チーム比率に基づいて分散
- **安全配置**: 危険な場所を避け、地面に配置

### 近接警告システム
- **赤色警告**: ハンターが1チャンク以内
- **橙色警告**: ハンターが2チャンク以内
- **黄色警告**: ハンターが3チャンク以内

### コンパス追跡システム
- 追跡には物理的なコンパスが必要
- 右クリックでターゲット切り替え
- 距離と方向の表示
- クロスディメンション追跡サポート

### チーム連携
- `/r <メッセージ>`でプライベートチームチャット
- `/pos`で座標共有
- Tabリストでチームメイトの位置をリアルタイム表示
- 強化されたチームワークのためのバディーシステム

### バディーシステム
- 1人のチームメイトとパートナーを組んで密接な連携
- スコアボードにバディーの位置をリアルタイム表示
- プレイヤーリストでオレンジ色のハイライト
- コマンド: `/buddy invite`, `accept`, `decline`, `remove`, `status`
- バディー関係には相互の同意が必要
- ゲーム終了またはプレイヤー切断時に自動クリーンアップ

## 🔧 技術詳細

- **言語**: Kotlin 1.9.24
- **ビルドツール**: Gradle 8.8
- **ターゲットJVM**: Java 21
- **API**: Spigot/Paper 1.21.4
- **アーキテクチャ**: 包括的なマネージャークラスによるイベント駆動

### ビルド

1. リポジトリをクローン
2. `./gradlew build`を実行
3. プラグインJARは`build/libs/`にあります

### メッセージキー検証

ビルドプロセスは、コードで使用されているすべてのメッセージキーが`ja.yml`と`en.yml`の両方のファイルで定義されていることを自動的にチェックします。

メッセージキーを手動でチェックするには：
```bash
./gradlew checkMessageKeys
```

キーが不足している場合、ビルドは失敗し、不足しているキーの提案を提供します。

## 📝 最新アップデート (2025-07-22)

### 新機能
- **実績リセット**: ゲーム開始時にすべてのプレイヤーの実績を自動的にリセット
- **夜スキップ**: 夜になると自動的に夜明けまで進む（設定可能）
- **ワープコマンド**: 100Gのコストと5秒の遅延でチームメイトにテレポート
- **追跡持続ボーナス**: ハンターはランナーを継続的に追跡することで30Gを獲得

### バグ修正
- 死亡したランナーがスペクテーターモードではなくサバイバルモードで表示されるリスポン表示バグを修正
- リスポン待機時間中の死亡したランナーへのコンパス追跡が継続する問題を修正
- 死亡したランナーへの距離表示が実際の距離を表示していた問題を修正（現在は0mを表示）
- ゲームリセット後に役割選択GUIが機能しない問題を修正
- コードベース全体の様々なハードコードされた言語文字列を修正
- 結果表示後の即座のリセットのため、不要なゲームリセットカウントダウンを削除

## 🤝 貢献

貢献を歓迎します！お気軽に：
- GitHub Issuesを通じてバグを報告
- 新機能を提案
- プルリクエストを送信
- 翻訳を支援

## 📄 ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE](LICENSE)ファイルを参照してください。

## 🔗 リンク

- [公式ガイド](https://0x48lab.github.io/minecraft_manhunt/)
- [Modrinthページ](https://modrinth.com/plugin/man-hunt-latest)
- [GitHubリポジトリ](https://github.com/0x48lab/minecraft_manhunt)
- [イシュートラッカー](https://github.com/0x48lab/minecraft_manhunt/issues)

---

**🎮 Manhuntアドベンチャーを始める準備はできましたか？今すぐダウンロードして究極の追跡を体験してください！**